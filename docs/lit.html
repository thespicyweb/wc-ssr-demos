<!doctype html><html>
    <head>
      <title>Lit SSR Demo</title>
      <meta charset="utf8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <style>
        body {
          font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        h1 {
          font-weight: 900;
        }
      </style>
      <!--lit-part BiQRPy1hEk8=-->
    <script type="module">
      class SDomElement extends HTMLElement {
        static {
          customElements.define("s-dom", this)
        }

        connectedCallback() {
          const para = this.shadowRoot.querySelector("p")
          para.style.border = "1px dashed gray"
          para.style.padding = "0.5em"
        }
      }
    </script>
  <!--/lit-part-->
    </head>

    <body>
      <h1>Welcome to Fastify & Lit SSR!</h1>
      <hr />
      <!--lit-part kM0WA3zDMAo=-->
    <style>
      my-element {
        background: lightyellow;
      }

      main {
        display: flex;
        gap: 1.5rem;
        justify-content: center;
        flex-wrap: wrap;
        margin-block: 3rem;
      }
    </style>

    <main>
      <!--lit-node 2--><my-element   hello="world"><template shadowroot="open" shadowrootmode="open"><style>
    :host {
      display: block;
      padding: .5rem 1rem;
      border: 3px double orange;
    }

    h2 {
      color: maroon;
    }
  </style><!--lit-part WoZMHUWrR3Q=-->
      <h2>Hello <!--lit-part-->world<!--/lit-part-->!</h2>

      <p>Easy as <!--lit-part-->1, 2, 3<!--/lit-part-->. <slot></slot></p>

      <!--lit-node 5--><s-dom  name="world" defer-hydration><template shadowroot="open" shadowrootmode="open"><style>.big-font {
  font-size: 120%;
}

      :host {
        color: rebeccapurple;
      }
    </style><!--lit-part Bzh63QyCgno=-->
      <p>
        <span class="big-font">Groovy stuff, <span><!--lit-part-->world<!--/lit-part--></span>.
        <slot name="hello"></span> </span> is working!
      </p>
    <!--/lit-part--></template><strong slot="hello">Shadow DOM</strong></s-dom>
    <!--/lit-part--></template>Boom done.</my-element>
      <!--lit-node 3--><my-element   hello="folks"><template shadowroot="open" shadowrootmode="open"><style>
    :host {
      display: block;
      padding: .5rem 1rem;
      border: 3px double orange;
    }

    h2 {
      color: maroon;
    }
  </style><!--lit-part WoZMHUWrR3Q=-->
      <h2>Hello <!--lit-part-->folks<!--/lit-part-->!</h2>

      <p>Easy as <!--lit-part-->4, 5, 6<!--/lit-part-->. <slot></slot></p>

      <!--lit-node 5--><s-dom  name="folks" defer-hydration><template shadowroot="open" shadowrootmode="open"><style>.big-font {
  font-size: 120%;
}

      :host {
        color: rebeccapurple;
      }
    </style><!--lit-part Bzh63QyCgno=-->
      <p>
        <span class="big-font">Groovy stuff, <span><!--lit-part-->folks<!--/lit-part--></span>.
        <slot name="hello"></span> </span> is working!
      </p>
    <!--/lit-part--></template><strong slot="hello">Shadow DOM</strong></s-dom>
    <!--/lit-part--></template>Boom done.</my-element>
    </main>
  <!--/lit-part-->
      <script>
        // Declarative Shadow DOM (DSD) polyfill
        ;(function attachShadowRoots(root) {
          root.querySelectorAll("template[shadowrootmode]").forEach(template => {
            const mode = template.getAttribute("shadowrootmode");
            const shadowRoot = template.parentNode.attachShadow({ mode });
            shadowRoot.appendChild(template.content);
            template.remove();
            attachShadowRoots(shadowRoot);
          });
        })(document);
      </script>
    </body>
  </html>